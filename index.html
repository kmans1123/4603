<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>346ë‘4603</title>
    <link rel="icon" href="images/logo.png" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'scale-in': 'scaleIn 0.2s ease-out',
                        'gradient': 'gradient 15s ease infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' }
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(20px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' }
                        },
                        scaleIn: {
                            '0%': { transform: 'scale(0.9)', opacity: '0' },
                            '100%': { transform: 'scale(1)', opacity: '1' }
                        },
                        gradient: {
                            '0%, 100%': {
                                'background-size': '200% 200%',
                                'background-position': 'left center'
                            },
                            '50%': {
                                'background-size': '200% 200%',
                                'background-position': 'right center'
                            }
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-20px)' }
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .backdrop-blur-sm { backdrop-filter: blur(4px); }
        .backdrop-blur-md { backdrop-filter: blur(12px); }
        .bg-gradient-to-br { background: linear-gradient(to bottom right, var(--tw-gradient-stops)); }
        .bg-gradient-to-r { background: linear-gradient(to right, var(--tw-gradient-stops)); }
        .bg-gradient-to-t { background: linear-gradient(to top, var(--tw-gradient-stops)); }
        .bg-gradient-to-b { background: linear-gradient(to bottom, var(--tw-gradient-stops)); }
        .bg-clip-text { background-clip: text; -webkit-background-clip: text; color: transparent; }
        .scrollbar-hide { scrollbar-width: none; -ms-overflow-style: none; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        
        .photo-card:hover .photo-overlay { opacity: 1; }
        .photo-card:hover img { transform: scale(1.05); }
        .timeline-line { background: linear-gradient(to bottom, #8b5cf6, #ec4899, #f97316); }
        
        /* ë™ì  ë°°ê²½ */
        .dynamic-bg {
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab, #8b5cf6, #ec4899);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        
        /* ë°°ê²½ ì¥ì‹ ìš”ì†Œë“¤ */
        .bg-decoration {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 6s ease-in-out infinite;
        }
        
        .bg-decoration:nth-child(1) {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, #8b5cf6, #ec4899);
            top: 10%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .bg-decoration:nth-child(2) {
            width: 120px;
            height: 120px;
            background: linear-gradient(45deg, #ec4899, #f97316);
            top: 20%;
            right: 15%;
            animation-delay: 2s;
        }
        
        .bg-decoration:nth-child(3) {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #23a6d5, #23d5ab);
            bottom: 30%;
            left: 20%;
            animation-delay: 4s;
        }
        
        .bg-decoration:nth-child(4) {
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #23d5ab, #8b5cf6);
            bottom: 10%;
            right: 10%;
            animation-delay: 1s;
        }
        
        /* í—¤ë” ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .header-button {
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 12px;
            padding: 8px;
        }
        
        .header-button:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }
        
        /* ìë™ ìŠ¬ë¼ì´ë” ìŠ¤íƒ€ì¼ */
        .auto-slider {
            position: relative;
            overflow: hidden;
        }
        
        .slider-image {
            transition: opacity 1s ease-in-out;
        }
        
        .slider-content {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.9), rgba(236, 72, 153, 0.9));
        }

        /* Masonry ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ */
        /* ğŸ¯ ë°˜ì‘í˜• ê°¤ëŸ¬ë¦¬ ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ */
        .masonry-grid {
            column-count: 1;
            column-gap: 1.5rem;
            break-inside: avoid;
        }

        @media (min-width: 640px) {
            .masonry-grid {
                column-count: 2;
            }
        }

        @media (min-width: 768px) {
            .masonry-grid {
                column-count: 3;
            }
        }

        @media (min-width: 1024px) {
            .masonry-grid {
                column-count: 4;
            }
        }

        @media (min-width: 1280px) {
            .masonry-grid {
                column-count: 5;
            }
        }

        .masonry-item {
            break-inside: avoid;
            margin-bottom: 1.5rem;
            display: inline-block;
            width: 100%;
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .masonry-item:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* ğŸ“¸ ë°˜ì‘í˜• ì´ë¯¸ì§€ ì»¨í…Œì´ë„ˆ */
        .responsive-image-container {
            position: relative;
            overflow: hidden;
            background: #f3f4f6;
            min-height: 200px;
        }

        .responsive-image {
            width: 100%;
            height: auto;
            display: block;
            transition: transform 0.3s ease;
            object-fit: cover;
            opacity: 1 !important; /* ê°•ì œë¡œ í‘œì‹œ */
        }

        /* ğŸ¨ ì‚¬ì§„ ë¹„ìœ¨ë³„ ìŠ¤íƒ€ì¼ */
        .photo-portrait {
            /* ì„¸ë¡œ ì‚¬ì§„ */
            height: 400px;
            object-fit: cover;
        }

        .photo-landscape {
            /* ê°€ë¡œ ì‚¬ì§„ */
            height: 250px;
            object-fit: cover;
        }

        .photo-square {
            /* ì •ì‚¬ê°í˜• ì‚¬ì§„ */
            height: 300px;
            object-fit: cover;
        }

        .photo-panorama {
            /* íŒŒë…¸ë¼ë§ˆ ì‚¬ì§„ */
            height: 200px;
            object-fit: cover;
        }

        /* ì‚¬ì§„ ì¹´ë“œ ë‚´ìš© */
        .photo-card-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
            color: white;
            padding: 1rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .masonry-item:hover .photo-card-content {
            opacity: 1;
        }

        .photo-category-badge {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: rgba(255, 255, 255, 0.9);
            color: #374151;
            padding: 0.25rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .masonry-item:hover .photo-category-badge {
            opacity: 1;
        }

        /* ë¡œë”© ìƒíƒœ ì œê±° - ì´ë¯¸ì§€ê°€ ë°”ë¡œ í‘œì‹œë˜ë„ë¡ */
        .image-loading {
            opacity: 1 !important;
        }

        /* í˜ì´ë“œì¸ ì• ë‹ˆë©”ì´ì…˜ */
        .fade-in {
            opacity: 1 !important;
            animation: fadeIn 0.6s ease-out forwards;
        }

        .fade-in-delay-1 { animation-delay: 0.1s; }
        .fade-in-delay-2 { animation-delay: 0.2s; }
        .fade-in-delay-3 { animation-delay: 0.3s; }
        .fade-in-delay-4 { animation-delay: 0.4s; }
        .fade-in-delay-5 { animation-delay: 0.5s; }

        /* ìŠ¬ë¼ì´ë“œì‡¼ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
        #slideshow-image {
            max-width: 90vw;
            max-height: 85vh;
            width: auto;
            height: auto;
            object-fit: contain;
        }

        /* ì„¸ë¡œ ì‚¬ì§„ì„ ìœ„í•œ íŠ¹ë³„ ì²˜ë¦¬ */
        #slideshow-image.portrait-image {
            max-height: 80vh;
            max-width: 60vw;
        }

        /* ìŠ¬ë¼ì´ë” ì´ë¯¸ì§€ ê°œì„  */
        .slider-image-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #f3f4f6;
        }

        /* ìŠ¬ë¼ì´ë” ì´ë¯¸ì§€ ë¹„ìœ¨ë³„ ì²˜ë¦¬ ê°œì„  */
        .slider-image-portrait {
            object-fit: contain !important;
            background: #f3f4f6;
        }

        .slider-image-landscape {
            object-fit: cover !important;
        }

        /* ê·¹ë‹¨ì ì¸ ê°€ë¡œ ë¹„ìœ¨(íŒŒë…¸ë¼ë§ˆ)ë„ containìœ¼ë¡œ ì²˜ë¦¬ */
        .slider-image-panorama {
            object-fit: contain !important;
            background: #f3f4f6;
        }

        /* ì´ë¯¸ì§€ê°€ í•­ìƒ í‘œì‹œë˜ë„ë¡ ê°•ì œ */
        .gallery-image {
            opacity: 1 !important;
            visibility: visible !important;
        }
    </style>
</head>
<body class="min-h-screen dynamic-bg relative overflow-x-hidden">
    <!-- ë°°ê²½ ì¥ì‹ ìš”ì†Œë“¤ -->
    <div class="bg-decoration"></div>
    <div class="bg-decoration"></div>
    <div class="bg-decoration"></div>
    <div class="bg-decoration"></div>

    <!-- Header -->
    <header class="sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-200/50 shadow-sm">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="header-button flex items-center space-x-3" onclick="refreshPage()">
                    <div class="w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                            Travel Gallery
                        </h1>
                        <p class="text-sm text-gray-600">ì „êµ­ ëŒì•„ë‹¤ë‹ˆê¸°</p>
                    </div>
                </div>
                <div class="flex items-center space-x-2">
                    <span id="photo-count" class="px-3 py-1 bg-white/50 border border-gray-200 rounded-full text-sm">
                        ì´ 0ì¥
                    </span>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="container mx-auto px-4 py-12">
        <div class="text-center mb-12">
            <h2 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-white via-purple-100 to-pink-100 bg-clip-text text-transparent mb-4 drop-shadow-lg">
                ì „êµ­ íƒë°© ì¼ì§€
            </h2>
            <p class="text-xl text-white/90 mb-8 max-w-2xl mx-auto drop-shadow-md">
                The moments I saw
            </p>

            <!-- Stats Cards -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
                <div class="bg-white/70 backdrop-blur-sm border-0 shadow-lg rounded-lg p-6 text-center hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                    <div class="w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <div id="total-photos" class="text-2xl font-bold text-gray-800">0</div>
                    <div class="text-sm text-gray-600">ì´ ì‚¬ì§„</div>
                </div>

                <div class="bg-white/70 backdrop-blur-sm border-0 shadow-lg rounded-lg p-6 text-center hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                    <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-3">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l2.414 2.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"></path>
                        </svg>
                    </div>
                    <div id="car-photos" class="text-2xl font-bold text-gray-800">0</div>
                    <div class="text-sm text-gray-600">ìë™ì°¨</div>
                </div>

                <div class="bg-white/70 backdrop-blur-sm border-0 shadow-lg rounded-lg p-6 text-center hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
                    <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mx-auto mb-3">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3l14 9-14 9V3z"></path>
                        </svg>
                    </div>
                    <div id="landscape-photos" class="text-2xl font-bold text-gray-800">0</div>
                    <div class="text-sm text-gray-600">í’ê²½</div>
                </div>

                <div class="bg-white/70 backdrop-blur-sm border-0 shadow-lg rounded-lg p-6 text-center cursor-pointer hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1" onclick="showCitiesModal()">
                    <div class="w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center mx-auto mb-3">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                    <div id="unique-locations" class="text-2xl font-bold text-gray-800">0</div>
                    <div class="text-sm text-gray-600">ë°©ë¬¸ ë„ì‹œ</div>
                    <div class="text-xs text-purple-600 mt-1">í´ë¦­í•´ì„œ ë³´ê¸°</div>
                </div>
            </div>
        </div>

        <!-- Auto Photo Slider -->
        <div class="mb-12 bg-white/70 backdrop-blur-sm border-0 shadow-xl overflow-hidden rounded-2xl auto-slider" id="auto-slider">
            <div class="md:flex h-80">
                <div class="md:w-1/2 relative overflow-hidden slider-image-container">
                    <img id="slider-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial, sans-serif' font-size='24' fill='%236b7280'%3Eì—¬í–‰ì‚¬ì§„%3C/text%3E%3C/svg%3E" alt="" class="w-full h-full object-cover slider-image">
                    <div class="absolute top-4 left-4">
                        <span class="px-3 py-1 bg-white/90 text-gray-800 rounded-full text-sm font-medium">
                            <span id="slider-category-icon">ğŸ“¸</span>
                            <span id="slider-category-text">ì‚¬ì§„</span>
                        </span>
                    </div>
                    <div class="absolute bottom-4 right-4 flex space-x-2">
                        <button onclick="prevSliderPhoto()" class="w-10 h-10 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white transition-colors">
                            <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <button onclick="nextSliderPhoto()" class="w-10 h-10 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white transition-colors">
                            <svg class="w-5 h-5 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="md:w-1/2 p-8 flex flex-col justify-center slider-content">
                    <div class="flex items-center mb-4">
                        <span class="inline-block w-fit px-3 py-1 bg-white/20 text-white rounded-full text-sm backdrop-blur-sm">
                            ì—¬í–‰ í•˜ì´ë¼ì´íŠ¸
                        </span>
                        <div class="ml-auto flex items-center text-white/80 text-sm">
                            <span id="slider-counter">1 / 1</span>
                        </div>
                    </div>
                    <h3 id="slider-title" class="text-3xl font-bold text-white mb-3 drop-shadow-lg">ì‚¬ì§„ ì œëª©</h3>
                    <div class="flex items-center text-white/90 mb-2">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span id="slider-location">ìœ„ì¹˜</span>
                    </div>
                    <div class="flex items-center text-white/90 mb-4">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        <span id="slider-date">ë‚ ì§œ</span>
                    </div>
                    <p id="slider-description" class="text-white/80 leading-relaxed">
                        ì´ ì‚¬ì§„ê³¼ í•¨ê»˜í•œ íŠ¹ë³„í•œ ìˆœê°„ì˜ ê¸°ë¡ì…ë‹ˆë‹¤.
                    </p>
                    <div class="mt-6 flex items-center space-x-2">
                        <div class="flex space-x-1" id="slider-dots">
                            <!-- ìŠ¬ë¼ì´ë” ì ë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
                        </div>
                        <button onclick="toggleSliderAutoPlay()" id="slider-play-button" class="ml-auto w-10 h-10 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white/30 transition-colors">
                            <svg id="slider-pause-icon" class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            <svg id="slider-play-icon" class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: none;">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m-6-8h1m4 0h1M9 6h1m4 0h1M9 2h1m4 0h1"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline Section -->
    <section class="container mx-auto px-4 py-12">
        <div class="text-center mb-12">
            <h2 class="text-3xl font-bold bg-gradient-to-r from-white to-purple-100 bg-clip-text text-transparent mb-4 drop-shadow-lg">
                ì—¬í–‰ íƒ€ì„ë¼ì¸
            </h2>
            <p class="text-white/80 drop-shadow-md">ì‹œê°„ìˆœìœ¼ë¡œ ì •ë¦¬ëœ ë‚˜ì˜ ì—¬í–‰ ê¸°ë¡</p>
        </div>

        <div class="max-w-4xl mx-auto">
            <div class="relative" id="timeline-container">
                <!-- Timeline Line -->
                <div class="absolute left-1/2 transform -translate-x-1/2 w-1 h-full timeline-line rounded-full"></div>
                <!-- Timeline items will be inserted here -->
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <div class="container mx-auto px-4 pb-8">
        <div class="w-full">
            <div class="flex justify-center mb-8">
                <div class="grid w-full max-w-md grid-cols-3 bg-white/70 backdrop-blur-sm border-0 shadow-lg rounded-full p-1">
                    <button onclick="setActiveTab('all')" id="tab-all" class="tab-button rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 bg-gradient-to-r from-purple-500 to-pink-500 text-white">
                        ì „ì²´ (<span id="all-count">0</span>)
                    </button>
                    <button onclick="setActiveTab('car')" id="tab-car" class="tab-button rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 text-gray-600 hover:text-gray-800">
                        ğŸš— ìë™ì°¨ (<span id="car-count">0</span>)
                    </button>
                    <button onclick="setActiveTab('landscape')" id="tab-landscape" class="tab-button rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 text-gray-600 hover:text-gray-800">
                        ğŸ”ï¸ í’ê²½ (<span id="landscape-count">0</span>)
                    </button>
                </div>
            </div>

            <!-- Masonry Gallery Grid -->
            <div id="gallery-grid" class="masonry-grid">
                <!-- Photos will be inserted here -->
            </div>

            <div id="empty-state" class="text-center py-16" style="display: none;">
                <div class="w-24 h-24 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center mx-auto mb-4">
                    <svg class="w-12 h-12 text-white/60" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                </div>
                <h3 class="text-xl font-semibold text-white/80 mb-2">ì•„ì§ ì‚¬ì§„ì´ ì—†ìŠµë‹ˆë‹¤</h3>
                <p class="text-white/60">images í´ë”ì— ì‚¬ì§„ì„ ì¶”ê°€í•´ë³´ì„¸ìš”!</p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-white/60 backdrop-blur-sm border-t border-white/20 mt-16">
        <div class="container mx-auto px-4 py-8 text-center">
            <p class="text-gray-700">âœ¨ ìˆœê°„ë“¤ì„ ê¸°ë¡í•˜ê³  ê°„ì§í•˜ì„¸ìš” âœ¨</p>
        </div>
    </footer>

    <!-- Slideshow Modal -->
    <div id="slideshow-modal" class="fixed inset-0 bg-black/95 z-50 flex items-center justify-center" style="display: none;">
        <button onclick="closeSlideshow()" class="absolute top-4 right-4 text-white hover:text-gray-300 transition-colors z-10">
            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>
        
        <button onclick="prevSlide()" class="absolute left-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 transition-colors z-10">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
        </button>
        
        <button onclick="nextSlide()" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-white hover:text-gray-300 transition-colors z-10">
            <svg class="w-12 h-12" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </button>

        <div class="relative w-full h-full flex items-center justify-center p-8">
            <div class="relative max-w-6xl max-h-full">
                <img id="slideshow-image" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='600' height='400' viewBox='0 0 600 400'%3E%3Crect width='600' height='400' fill='%23f3f4f6'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' font-family='Arial, sans-serif' font-size='24' fill='%236b7280'%3Eì‚¬ì§„%3C/text%3E%3C/svg%3E" alt="" class="max-w-full max-h-full object-contain rounded-lg">
                
                <!-- Photo Info -->
                <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 rounded-b-lg">
                    <h3 id="slideshow-title" class="text-2xl font-bold text-white mb-2"></h3>
                    <div class="flex items-center text-white/80 mb-2">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span id="slideshow-location"></span>
                    </div>
                    <div class="flex items-center text-white/80">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                        </svg>
                        <span id="slideshow-date"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Controls -->
        <div class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex items-center space-x-4 bg-black/50 backdrop-blur-sm rounded-full px-6 py-3">
            <button onclick="toggleAutoPlay()" id="autoplay-button" class="p-2 rounded-full transition-colors text-white hover:bg-white/20">
                <svg id="play-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1m4 0h1m-6 4h1m4 0h1m-6-8h1m4 0h1M9 6h1m4 0h1M9 2h1m4 0h1"></path>
                </svg>
                <svg id="pause-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="display: none;">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </button>
            <span id="slide-counter" class="text-white text-sm">1 / 1</span>
        </div>
    </div>

    <!-- Cities Modal -->
    <div id="cities-modal" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4" style="display: none;">
        <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto">
            <div class="p-6 border-b border-gray-200 flex items-center justify-between">
                <h2 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                    ë°©ë¬¸í•œ ë„ì‹œë“¤
                </h2>
                <button onclick="hideCitiesModal()" class="text-gray-500 hover:text-gray-700 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="p-6">
                <div id="cities-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Cities will be inserted here -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ë°ì´í„° - ì´ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì„¸ìš”!
        // ==========================================
        const photos = [
            {
                id: "car1",
                url: "images/car1.jpg", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‹¤ì œ ì‚¬ì§„ ê²½ë¡œë¡œ ë³€ê²½
                category: "car", // ğŸ” ì—¬ê¸° ìˆ˜ì •: "car" ë˜ëŠ” "landscape"
                title: "ê·¸ëœì €", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì œëª©
                location: "ì „ë‚¨ ê³ ì°½", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ì¥ì†Œ
                date: "2025-05-31", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ë‚ ì§œ (YYYY-MM-DD í˜•ì‹)
                description: "ì²­ë³´ë¦¬ì™€ í•¨ê»˜." // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì„¤ëª…
            },
            {
                id: "landscape1",
                url: "images/landscape1.jpg", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‹¤ì œ ì‚¬ì§„ ê²½ë¡œë¡œ ë³€ê²½
                category: "landscape", // ğŸ” ì—¬ê¸° ìˆ˜ì •: "car" ë˜ëŠ” "landscape"
                title: "ì²­ë³´ë¦¬", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì œëª©
                location: "ì „ë‚¨ ê³ ì°½", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ì¥ì†Œ
                date: "2025-05-31", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ë‚ ì§œ
                description: "í¬í† ìƒµìœ¼ë¡œ ì£¼ë³€ ì‚¬ëŒ ë‹¤ ì§€ì› ìŒìŒ" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì„¤ëª…
            },
            {
                id: "car2",
                url: "images/car2.jpg", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‹¤ì œ ì‚¬ì§„ ê²½ë¡œë¡œ ë³€ê²½
                category: "car",
                title: "ê·¸ëœì €", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì œëª©
                location: "ë¶€ì‚° ì‚¬í•˜êµ¬", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ì¥ì†Œ
                date: "2025-02-04", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ë‚ ì§œ
                description: "ì¼ëª°ê³¼ í•¨ê»˜." // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì„¤ëª…
            },
            {
                id: "landscape2",
                url: "images/landscape2.jpg", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‹¤ì œ ì‚¬ì§„ ê²½ë¡œë¡œ ë³€ê²½
                category: "landscape",
                title: "ì „êµ­ ì¼ì£¼ ì¤‘", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì œëª©
                location: "ê²½ë¶ ì˜ë•", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ì¥ì†Œ
                date: "2024-03-30", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ë‚ ì§œ
                description: "ì „êµ­ ì¼ì£¼ ì¤‘ì¤‘" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì„¤ëª…
            },
            {
                id: "car3",
                url: "images/car3.jpg", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‹¤ì œ ì‚¬ì§„ ê²½ë¡œë¡œ ë³€ê²½
                category: "car",
                title: "ê·¸ëœì €", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì œëª©
                location: "ê²½ë‚¨ ë°€ì–‘", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ì¥ì†Œ
                date: "2025-05-17", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ë‚ ì§œ
                description: "í„°ë„ ì•ˆì—ì„œ" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì„¤ëª…
            },
            {
                id: "landscape3",
                url: "images/landscape3.jpg", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‹¤ì œ ì‚¬ì§„ ê²½ë¡œë¡œ ë³€ê²½
                category: "landscape",
                title: "íšŒë£¡í¬ ì „ë§ëŒ€", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì œëª©
                location: "ê²½ë¶ ì˜ˆì²œ", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ì¥ì†Œ
                date: "2025-01-04", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ë‚ ì§œ
                description: "ë°”ëŒ ë§ì´ ë¶ˆì–´ì„œ ì¶”ì› ìŒ" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì„¤ëª…
            },
            {
                id: "landscape4",
                url: "images/landscape4.png", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‹¤ì œ ì‚¬ì§„ ê²½ë¡œë¡œ ë³€ê²½
                category: "landscape",
                title: "íƒ€ì„ìº¡ìŠê³µì›", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì œëª©
                location: "ê°•ì›ë„ ì •ì„ êµ°", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ì¥ì†Œ
                date: "2024-09-30", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ë‚ ì§œ
                description: "ì€í•˜ìˆ˜ ì´¬ì˜í•œ ë‚ " // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì„¤ëª…
            },
            {
                id: "car4",
                url: "images/car4.jpg", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‹¤ì œ ì‚¬ì§„ ê²½ë¡œë¡œ ë³€ê²½
                category: "car",
                title: "ê·¸ëœì €", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì œëª©
                location: "ê²½ë¶ ì•ˆë™", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ì¥ì†Œ
                date: "2024-11-29", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì´¬ì˜ ë‚ ì§œ
                description: "í¬ë¦¬ìŠ¤ë§ˆìŠ¤ì— ë§ì¶° ë£¨ëŒì¹´" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì‚¬ì§„ ì„¤ëª…
            }

            // ğŸ” ì—¬ê¸° ìˆ˜ì •: ìƒˆë¡œìš´ ì‚¬ì§„ì„ ì¶”ê°€í•˜ë ¤ë©´ ìœ„ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì¶”ê°€í•˜ì„¸ìš”!
            // ì˜ˆì‹œ:
            // ,{
            //     id: "ìƒˆì‚¬ì§„ID",
            //     url: "ì‚¬ì§„ê²½ë¡œ.jpg",
            //     category: "car", // ë˜ëŠ” "landscape"
            //     title: "ì‚¬ì§„ ì œëª©",
            //     location: "ì´¬ì˜ ì¥ì†Œ",
            //     date: "2024-MM-DD",
            //     description: "ì‚¬ì§„ ì„¤ëª…"
            // }
        ];

        // ==========================================
        // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì—¬í–‰ ë„ì‹œ ë°ì´í„° - ì´ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì„¸ìš”!
        // ==========================================
        const travelCities = [
            {
                name: "ì „ë‚¨", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ë„ì‹œ ì´ë¦„
                region: "ì „ë¼ë‚¨ë„", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì§€ì—­ëª…
                photos: 2, // ğŸ” ì—¬ê¸° ìˆ˜ì •: í•´ë‹¹ ë„ì‹œ ì‚¬ì§„ ìˆ˜
                highlights: ["  ", "  ", "  "], // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì£¼ìš” ëª…ì†Œë“¤
                color: "from-blue-500 to-cyan-500" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì¹´ë“œ ìƒ‰ìƒ (ê·¸ë¼ë°ì´ì…˜)
            },
            {
                name: "ë¶€ì‚°", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ë„ì‹œ ì´ë¦„
                region: "ë¶€ì‚°ê´‘ì—­ì‹œ", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì§€ì—­ëª…
                photos: 1, // ğŸ” ì—¬ê¸° ìˆ˜ì •: í•´ë‹¹ ë„ì‹œ ì‚¬ì§„ ìˆ˜
                highlights: ["  ", "  ", "  "], // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì£¼ìš” ëª…ì†Œë“¤
                color: "from-orange-500 to-red-500" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì¹´ë“œ ìƒ‰ìƒ
            },
            {
                name: "ê²½ë‚¨", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ë„ì‹œ ì´ë¦„
                region: "ê²½ìƒë‚¨ë„", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì§€ì—­ëª…
                photos: 1, // ğŸ” ì—¬ê¸° ìˆ˜ì •: í•´ë‹¹ ë„ì‹œ ì‚¬ì§„ ìˆ˜
                highlights: ["  ", "  ", "  "], // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì£¼ìš” ëª…ì†Œë“¤
                color: "from-purple-500 to-pink-500" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì¹´ë“œ ìƒ‰ìƒ
            },
            {
                name: "ê²½ë¶", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ë„ì‹œ ì´ë¦„
                region: "ê²½ìƒë¶ë„", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì§€ì—­ëª…
                photos: 3, // ğŸ” ì—¬ê¸° ìˆ˜ì •: í•´ë‹¹ ë„ì‹œ ì‚¬ì§„ ìˆ˜
                highlights: ["  ", "  ", "  "], // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì£¼ìš” ëª…ì†Œë“¤
                color: "from-green-500 to-emerald-500" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì¹´ë“œ ìƒ‰ìƒ
            },
            {
                name: "ê°•ì›ë„", // ğŸ” ì—¬ê¸° ìˆ˜ì •: ë„ì‹œ ì´ë¦„
                region: "ê°•ì›ë„", // ğŸ” ì—¬ï¿½ï¿½ï¿½ ìˆ˜ì •: ì§€ì—­ëª…
                photos: 1, // ğŸ” ì—¬ê¸° ìˆ˜ì •: í•´ë‹¹ ë„ì‹œ ì‚¬ì§„ ìˆ˜
                highlights: ["  ", "  ", "  "], // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì£¼ìš” ëª…ì†Œë“¤
                color: "from-indigo-500 to-purple-500" // ğŸ” ì—¬ê¸° ìˆ˜ì •: ì¹´ë“œ ìƒ‰ìƒ
            }

            // ğŸ” ì—¬ê¸° ìˆ˜ì •: ìƒˆë¡œìš´ ë„ì‹œë¥¼ ì¶”ê°€í•˜ë ¤ë©´ ìœ„ì™€ ê°™ì€ í˜•ì‹ìœ¼ë¡œ ì¶”ê°€í•˜ì„¸ìš”!
            // ì˜ˆì‹œ:
            // ,{
            //     name: "ìƒˆë„ì‹œ",
            //     region: "ì§€ì—­ëª…",
            //     photos: ì‚¬ì§„ìˆ˜,
            //     highlights: ["ëª…ì†Œ1", "ëª…ì†Œ2", "ëª…ì†Œ3"],
            //     color: "from-ìƒ‰ìƒ1 to-ìƒ‰ìƒ2"
            // }
        ];

        // ==========================================
        // ğŸ”§ ì‹œìŠ¤í…œ ì½”ë“œ - ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!
        // ==========================================

        // ì „ì—­ ë³€ìˆ˜
        let activeTab = 'all';
        let currentSlideIndex = 0;
        let isAutoPlay = false;
        let autoPlayInterval = null;
        let filteredPhotos = [];
        
        // ìë™ ìŠ¬ë¼ì´ë” ë³€ìˆ˜
        let currentSliderIndex = 0;
        let sliderAutoPlay = true;
        let sliderInterval = null;

        // ğŸ”§ ì´ë¯¸ì§€ ë¹„ìœ¨ ê°ì§€ í•¨ìˆ˜
        function getImageRatioClass(aspectRatio) {
            if (aspectRatio < 0.7) {
                return 'photo-portrait'; // ì„¸ë¡œ ì‚¬ì§„
            } else if (aspectRatio > 1.8) {
                return 'photo-panorama'; // íŒŒë…¸ë¼ë§ˆ
            } else if (aspectRatio >= 0.9 && aspectRatio <= 1.1) {
                return 'photo-square'; // ì •ì‚¬ê°í˜•
            } else {
                return 'photo-landscape'; // ê°€ë¡œ ì‚¬ì§„
            }
        }

        // ğŸ”§ ê°œì„ ëœ ì´ë¯¸ì§€ ë¡œë“œ ì²˜ë¦¬ í•¨ìˆ˜
        function handleImageLoad(img, photo) {
            try {
                const aspectRatio = img.naturalWidth / img.naturalHeight;
                const ratioClass = getImageRatioClass(aspectRatio);
                
                // ê¸°ì¡´ í´ë˜ìŠ¤ ì œê±°
                img.classList.remove('photo-portrait', 'photo-landscape', 'photo-square', 'photo-panorama', 'image-loading');
                
                // ë¹„ìœ¨ë³„ í´ë˜ìŠ¤ ì ìš©
                img.classList.add(ratioClass, 'gallery-image');
                
                // ì´ë¯¸ì§€ ê°•ì œ í‘œì‹œ
                img.style.opacity = '1';
                img.style.visibility = 'visible';
                
                // í˜ì´ë“œì¸ ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€
                const container = img.closest('.masonry-item');
                if (container) {
                    container.classList.add('fade-in');
                }
                
                console.log(`ğŸ“¸ ì´ë¯¸ì§€ ë¡œë“œ ì™„ë£Œ: ${photo.title} (ë¹„ìœ¨: ${aspectRatio.toFixed(2)}, í´ë˜ìŠ¤: ${ratioClass})`);
            } catch (error) {
                console.error('âŒ ì´ë¯¸ì§€ ë¡œë“œ ì²˜ë¦¬ ì˜¤ë¥˜:', error);
                // ì˜¤ë¥˜ ë°œìƒ ì‹œì—ë„ ì´ë¯¸ì§€ í‘œì‹œ
                img.style.opacity = '1';
                img.style.visibility = 'visible';
            }
        }

        // ğŸ”§ ë„ì‹œë³„ ì‚¬ì§„ ìˆ˜ ìë™ ê³„ì‚° í•¨ìˆ˜
        function calculateCityPhotoCounts() {
            travelCities.forEach(city => {
                const cityPhotos = photos.filter(photo => 
                    photo.location.includes(city.name) || 
                    photo.location.includes(city.region.replace(/ê´‘ì—­ì‹œ|íŠ¹ë³„ì‹œ|íŠ¹ë³„ìì¹˜ë„|ë„$/g, ''))
                );
                city.photos = cityPhotos.length;
            });
        }

        // ìŠ¬ë¼ì´ë” ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        function pauseSlider() {
            if (sliderInterval) {
                clearInterval(sliderInterval);
                sliderInterval = null;
            }
        }

        function resumeSlider() {
            if (sliderAutoPlay) {
                startSliderAutoPlay();
            }
        }

        // ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', function() {
            try {
                console.log('ğŸš€ ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™” ì‹œì‘...');
                console.log('ğŸ“¸ ì´ ì‚¬ì§„ ìˆ˜:', photos.length);
                
                // ë„ì‹œë³„ ì‚¬ì§„ ìˆ˜ ìë™ ê³„ì‚°
                calculateCityPhotoCounts();
                
                // ê° í•¨ìˆ˜ ì‹¤í–‰
                updateStats();
                renderTimeline();
                renderCities();
                setActiveTab('all');
                initSlider();
                
                // ìŠ¬ë¼ì´ë” ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ ì¶”ê°€
                const slider = document.getElementById('auto-slider');
                if (slider) {
                    slider.addEventListener('mouseenter', pauseSlider);
                    slider.addEventListener('mouseleave', resumeSlider);
                }
                
                console.log('âœ… ê°¤ëŸ¬ë¦¬ ì´ˆê¸°í™” ì™„ë£Œ!');
            } catch (error) {
                console.error('âŒ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
            }
        });

        // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
        function refreshPage() {
            location.reload();
        }

        // ğŸ”§ ìë™ ìŠ¬ë¼ì´ë” ì´ˆê¸°í™”
        function initSlider() {
            try {
                if (photos.length === 0) {
                    console.log('âš ï¸ ì‚¬ì§„ì´ ì—†ì–´ì„œ ìŠ¬ë¼ì´ë”ë¥¼ ì´ˆê¸°í™”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    return;
                }
                
                console.log('ğŸ  ìŠ¬ë¼ì´ë” ì´ˆê¸°í™” ì¤‘...');
                updateSliderContent();
                createSliderDots();
                startSliderAutoPlay();
                console.log('âœ… ìŠ¬ë¼ì´ë” ì´ˆê¸°í™” ì™„ë£Œ!');
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë” ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
            }
        }

        // ğŸ”§ ê°œì„ ëœ ìŠ¬ë¼ì´ë” ë‚´ìš© ì—…ë°ì´íŠ¸
        function updateSliderContent() {
            try {
                if (photos.length === 0) return;
                
                const photo = photos[currentSliderIndex];
                if (!photo) {
                    console.error('âŒ ìŠ¬ë¼ì´ë” ì‚¬ì§„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', currentSliderIndex);
                    return;
                }

                const elements = {
                    image: document.getElementById('slider-image'),
                    title: document.getElementById('slider-title'),
                    location: document.getElementById('slider-location'),
                    date: document.getElementById('slider-date'),
                    description: document.getElementById('slider-description'),
                    counter: document.getElementById('slider-counter'),
                    categoryIcon: document.getElementById('slider-category-icon'),
                    categoryText: document.getElementById('slider-category-text')
                };

                if (elements.image) {
                    elements.image.src = photo.url;
                    
                    // ğŸ”§ ê°œì„ ëœ ì´ë¯¸ì§€ ë¡œë“œ í›„ ë¹„ìœ¨ì— ë”°ë¥¸ ìŠ¤íƒ€ì¼ ì ìš©
                    elements.image.onload = function() {
                        const aspectRatio = this.naturalWidth / this.naturalHeight;
                        this.classList.remove('slider-image-portrait', 'slider-image-landscape', 'slider-image-panorama');
                        
                        if (aspectRatio < 0.8) {
                            // ì„¸ë¡œ ì‚¬ì§„
                            this.classList.add('slider-image-portrait');
                        } else if (aspectRatio > 2.0) {
                            // ê·¹ë‹¨ì ì¸ ê°€ë¡œ ë¹„ìœ¨ (íŒŒë…¸ë¼ë§ˆ)
                            this.classList.add('slider-image-panorama');
                        } else {
                            // ì¼ë°˜ ê°€ë¡œ ì‚¬ì§„
                            this.classList.add('slider-image-landscape');
                        }
                        
                        console.log(`ğŸ  ìŠ¬ë¼ì´ë” ì´ë¯¸ì§€ ë¹„ìœ¨: ${aspectRatio.toFixed(2)}`);
                    };
                }
                if (elements.title) elements.title.textContent = photo.title;
                if (elements.location) elements.location.textContent = photo.location;
                if (elements.date) elements.date.textContent = new Date(photo.date).toLocaleDateString('ko-KR');
                if (elements.description) elements.description.textContent = photo.description || 'ì´ ì‚¬ì§„ê³¼ í•¨ê»˜í•œ íŠ¹ë³„í•œ ìˆœê°„ì˜ ê¸°ë¡ì…ë‹ˆë‹¤.';
                if (elements.counter) elements.counter.textContent = `${currentSliderIndex + 1} / ${photos.length}`;
                
                // ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ ë° í…ìŠ¤íŠ¸ ì—…ë°ì´íŠ¸
                if (photo.category === 'car') {
                    if (elements.categoryIcon) elements.categoryIcon.textContent = 'ğŸš—';
                    if (elements.categoryText) elements.categoryText.textContent = 'ìë™ì°¨';
                } else {
                    if (elements.categoryIcon) elements.categoryIcon.textContent = 'ğŸ”ï¸';
                    if (elements.categoryText) elements.categoryText.textContent = 'í’ê²½';
                }
                
                updateSliderDots();
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë” ë‚´ìš© ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
            }
        }

        // ìŠ¬ë¼ì´ë” ì ë“¤ ìƒì„±
        function createSliderDots() {
            try {
                const dotsContainer = document.getElementById('slider-dots');
                if (!dotsContainer) {
                    console.error('âŒ ìŠ¬ë¼ì´ë” ì  ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }
                
                dotsContainer.innerHTML = '';
                
                photos.forEach((_, index) => {
                    const dot = document.createElement('button');
                    dot.className = 'w-2 h-2 rounded-full transition-all duration-300';
                    dot.onclick = () => goToSliderPhoto(index);
                    dotsContainer.appendChild(dot);
                });
                
                updateSliderDots();
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë” ì  ìƒì„± ì˜¤ë¥˜:', error);
            }
        }

        // ìŠ¬ë¼ì´ë” ì ë“¤ ì—…ë°ì´íŠ¸
        function updateSliderDots() {
            try {
                const dots = document.querySelectorAll('#slider-dots button');
                dots.forEach((dot, index) => {
                    if (index === currentSliderIndex) {
                        dot.className = 'w-6 h-2 rounded-full bg-white transition-all duration-300';
                    } else {
                        dot.className = 'w-2 h-2 rounded-full bg-white/40 transition-all duration-300';
                    }
                });
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë” ì  ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
            }
        }

        // ìŠ¬ë¼ì´ë” ìë™ ì¬ìƒ ì‹œì‘
        function startSliderAutoPlay() {
            try {
                if (sliderInterval) clearInterval(sliderInterval);
                if (sliderAutoPlay && photos.length > 1) {
                    sliderInterval = setInterval(() => {
                        nextSliderPhoto();
                    }, 4000);
                }
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë” ìë™ ì¬ìƒ ì‹œì‘ ì˜¤ë¥˜:', error);
            }
        }

        // ë‹¤ìŒ ìŠ¬ë¼ì´ë” ì‚¬ì§„
        function nextSliderPhoto() {
            if (photos.length === 0) return;
            currentSliderIndex = (currentSliderIndex + 1) % photos.length;
            updateSliderContent();
        }

        // ì´ì „ ìŠ¬ë¼ì´ë” ì‚¬ì§„
        function prevSliderPhoto() {
            if (photos.length === 0) return;
            currentSliderIndex = (currentSliderIndex - 1 + photos.length) % photos.length;
            updateSliderContent();
        }

        // íŠ¹ì • ìŠ¬ë¼ì´ë” ì‚¬ì§„ìœ¼ë¡œ ì´ë™
        function goToSliderPhoto(index) {
            if (index >= 0 && index < photos.length) {
                currentSliderIndex = index;
                updateSliderContent();
            }
        }

        // ìŠ¬ë¼ì´ë” ìë™ ì¬ìƒ í† ê¸€
        function toggleSliderAutoPlay() {
            try {
                sliderAutoPlay = !sliderAutoPlay;
                const playIcon = document.getElementById('slider-play-icon');
                const pauseIcon = document.getElementById('slider-pause-icon');
                
                if (sliderAutoPlay) {
                    if (playIcon) playIcon.style.display = 'none';
                    if (pauseIcon) pauseIcon.style.display = 'block';
                    startSliderAutoPlay();
                } else {
                    if (playIcon) playIcon.style.display = 'block';
                    if (pauseIcon) pauseIcon.style.display = 'none';
                    if (sliderInterval) {
                        clearInterval(sliderInterval);
                        sliderInterval = null;
                    }
                }
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë” ìë™ ì¬ìƒ í† ê¸€ ì˜¤ë¥˜:', error);
            }
        }

        // ğŸ”§ í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            try {
                console.log('ğŸ“Š í†µê³„ ì—…ë°ì´íŠ¸ ì¤‘...');
                
                const carPhotos = photos.filter(p => p.category === 'car');
                const landscapePhotos = photos.filter(p => p.category === 'landscape');
                const uniqueLocations = [...new Set(photos.map(p => p.location))].length;

                const updateElement = (id, value) => {
                    const element = document.getElementById(id);
                    if (element) {
                        element.textContent = value;
                    }
                };

                updateElement('photo-count', `ì´ ${photos.length}ì¥`);
                updateElement('total-photos', photos.length);
                updateElement('car-photos', carPhotos.length);
                updateElement('landscape-photos', landscapePhotos.length);
                updateElement('unique-locations', uniqueLocations);

                console.log('âœ… í†µê³„ ì—…ë°ì´íŠ¸ ì™„ë£Œ!');
            } catch (error) {
                console.error('âŒ í†µê³„ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
            }
        }

        // ğŸ”§ íƒ€ì„ë¼ì¸ ë Œë”ë§
        function renderTimeline() {
            try {
                console.log('â° íƒ€ì„ë¼ì¸ ë Œë”ë§ ì¤‘...');
                
                const container = document.getElementById('timeline-container');
                if (!container) {
                    console.error('âŒ íƒ€ì„ë¼ì¸ ì»¨í…Œì´ë„ˆë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }
                
                // ê¸°ì¡´ ë‚´ìš© ì œê±° (íƒ€ì„ë¼ì¸ ë¼ì¸ ì œì™¸)
                const timelineItems = container.querySelectorAll('.relative.flex');
                timelineItems.forEach(item => item.remove());
                
                if (photos.length === 0) {
                    console.log('âš ï¸ ì‚¬ì§„ì´ ì—†ì–´ì„œ íƒ€ì„ë¼ì¸ì„ ë Œë”ë§í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    return;
                }
                
                const sortedPhotos = [...photos].sort((a, b) => new Date(b.date) - new Date(a.date));
                
                sortedPhotos.forEach((photo, index) => {
                    const isLeft = index % 2 === 0;
                    const timelineItem = document.createElement('div');
                    timelineItem.className = `relative flex items-center mb-8 ${isLeft ? 'flex-row' : 'flex-row-reverse'}`;
                    
                    const photoIndex = photos.findIndex(p => p.id === photo.id);
                    
                    timelineItem.innerHTML = `
                        <div class="absolute left-1/2 transform -translate-x-1/2 w-4 h-4 bg-white border-4 border-purple-500 rounded-full z-10"></div>
                        <div class="w-5/12 ${isLeft ? 'pr-8' : 'pl-8'}">
                            <div class="bg-white/80 backdrop-blur-sm border-0 shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer rounded-lg overflow-hidden" onclick="openSlideshow(${photoIndex})">
                                <div class="flex">
                                    <div class="w-1/3">
                                        <img src="${photo.url}" alt="${photo.title}" class="w-full h-24 object-cover" style="object-position: center;" loading="lazy">
                                    </div>
                                    <div class="w-2/3 p-4">
                                        <h3 class="font-semibold text-gray-800 mb-1">${photo.title}</h3>
                                        <div class="flex items-center text-sm text-gray-600 mb-1">
                                            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                            </svg>
                                            <span>${photo.location}</span>
                                        </div>
                                        <div class="flex items-center text-sm text-gray-500">
                                            <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                            </svg>
                                            <span>${new Date(photo.date).toLocaleDateString('ko-KR')}</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    container.appendChild(timelineItem);
                });
                
                console.log('âœ… íƒ€ì„ë¼ì¸ ë Œë”ë§ ì™„ë£Œ!');
            } catch (error) {
                console.error('âŒ íƒ€ì„ë¼ì¸ ë Œë”ë§ ì˜¤ë¥˜:', error);
            }
        }

        // ğŸ”§ ë„ì‹œ ëª©ë¡ ë Œë”ë§
        function renderCities() {
            try {
                console.log('ğŸ™ï¸ ë„ì‹œ ëª©ë¡ ë Œë”ë§ ì¤‘...');
                
                const grid = document.getElementById('cities-grid');
                if (!grid) {
                    console.error('âŒ ë„ì‹œ ê·¸ë¦¬ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }
                
                grid.innerHTML = '';
                
                // ì‚¬ì§„ì´ ìˆëŠ” ë„ì‹œë§Œ í‘œì‹œ
                const citiesWithPhotos = travelCities.filter(city => city.photos > 0);
                
                citiesWithPhotos.forEach(city => {
                    const cityCard = document.createElement('div');
                    cityCard.className = 'overflow-hidden border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 rounded-lg bg-white';
                    
                    cityCard.innerHTML = `
                        <div class="h-32 bg-gradient-to-br ${city.color} flex items-center justify-center">
                            <div class="text-center text-white">
                                <h3 class="text-2xl font-bold mb-1">${city.name}</h3>
                                <p class="text-white/80 text-sm">${city.region}</p>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex items-center justify-between mb-3">
                                <span class="px-2 py-1 bg-gray-50 border border-gray-200 rounded text-sm">
                                    ${city.photos}ì¥ì˜ ì‚¬ì§„
                                </span>
                            </div>
                            <div>
                                <h4 class="font-semibold text-gray-800 mb-2">ì£¼ìš” ëª…ì†Œ</h4>
                                <div class="flex flex-wrap gap-1">
                                    ${city.highlights.map(highlight => 
                                        `<span class="px-2 py-1 bg-gray-100 text-gray-700 rounded text-xs">${highlight}</span>`
                                    ).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                    
                    grid.appendChild(cityCard);
                });
                
                console.log('âœ… ë„ì‹œ ëª©ë¡ ë Œë”ë§ ì™„ë£Œ!', citiesWithPhotos.length, 'ê°œ ë„ì‹œ');
            } catch (error) {
                console.error('âŒ ë„ì‹œ ëª©ë¡ ë Œë”ë§ ì˜¤ë¥˜:', error);
            }
        }

        // ğŸ”§ íƒ­ ì„¤ì •
        function setActiveTab(tab) {
            try {
                console.log('ğŸ”„ íƒ­ ë³€ê²½:', tab);
                
                activeTab = tab;
                
                // íƒ­ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.className = 'tab-button rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 text-gray-600 hover:text-gray-800';
                });
                
                const activeButton = document.getElementById(`tab-${tab}`);
                if (activeButton) {
                    if (tab === 'car') {
                        activeButton.className = 'tab-button rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 bg-gradient-to-r from-purple-500 to-pink-500 text-white';
                    } else if (tab === 'landscape') {
                        activeButton.className = 'tab-button rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 bg-gradient-to-r from-orange-500 to-yellow-500 text-white';
                    } else {
                        activeButton.className = 'tab-button rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 bg-gradient-to-r from-purple-500 to-pink-500 text-white';
                    }
                }
                
                // í•„í„°ë§ëœ ì‚¬ì§„ ì—…ë°ì´íŠ¸
                filteredPhotos = tab === 'all' ? [...photos] : photos.filter(photo => photo.category === tab);
                
                // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
                const updateCount = (id, count) => {
                    const element = document.getElementById(id);
                    if (element) element.textContent = count;
                };
                
                updateCount('all-count', photos.length);
                updateCount('car-count', photos.filter(p => p.category === 'car').length);
                updateCount('landscape-count', photos.filter(p => p.category === 'landscape').length);
                
                renderGallery();
                
                console.log('âœ… íƒ­ ë³€ê²½ ì™„ë£Œ!', filteredPhotos.length, 'ê°œ ì‚¬ì§„');
            } catch (error) {
                console.error('âŒ íƒ­ ì„¤ì • ì˜¤ë¥˜:', error);
            }
        }

        // ğŸ”§ ê°œì„ ëœ Masonry ê°¤ëŸ¬ë¦¬ ë Œë”ë§
        function renderGallery() {
            try {
                console.log('ğŸ–¼ï¸ Masonry ê°¤ëŸ¬ë¦¬ ë Œë”ë§ ì¤‘...', filteredPhotos.length, 'ê°œ ì‚¬ì§„');

                const grid = document.getElementById('gallery-grid');
                const emptyState = document.getElementById('empty-state');
                
                if (!grid || !emptyState) {
                    console.error('âŒ ê°¤ëŸ¬ë¦¬ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                    return;
                }
                
                if (filteredPhotos.length === 0) {
                    grid.style.display = 'none';
                    emptyState.style.display = 'block';
                    return;
                }
                
                grid.style.display = 'block';
                emptyState.style.display = 'none';
                grid.innerHTML = '';
                
                filteredPhotos.forEach((photo, index) => {
                    const photoCard = document.createElement('div');
                    photoCard.className = `masonry-item photo-card cursor-pointer fade-in-delay-${(index % 5) + 1}`;
                    photoCard.onclick = () => openSlideshow(index);
                    
                    photoCard.innerHTML = `
                        <div class="responsive-image-container">
                            <img src="${photo.url}" 
                                 alt="${photo.title}" 
                                 class="responsive-image gallery-image" 
                                 loading="lazy"
                                 onload="handleImageLoad(this, ${JSON.stringify(photo).replace(/"/g, '&quot;')})"
                                 onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'400\\' height=\\'300\\' viewBox=\\'0 0 400 300\\'%3E%3Crect width=\\'400\\' height=\\'300\\' fill=\\'%23f3f4f6\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' dominant-baseline='middle\\' text-anchor='middle\\' font-family=\\'Arial, sans-serif\\' font-size=\\'16\\' fill=\\'%236b7280\\'%3Eì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨%3C/text%3E%3C/svg%3E'; this.style.opacity='1'; this.style.visibility='visible';">
                            
                            <div class="photo-category-badge">
                                ${photo.category === 'car' ? 'ğŸš— ìë™ì°¨' : 'ğŸ”ï¸ í’ê²½'}
                            </div>
                            
                            <div class="photo-card-content">
                                <h3 class="font-semibold text-lg mb-1">${photo.title}</h3>
                                <div class="flex items-center text-sm text-gray-200 mb-1">
                                    <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                    <span>${photo.location}</span>
                                </div>
                                <div class="flex items-center text-sm text-gray-300">
                                    <svg class="w-3 h-3 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <span>${new Date(photo.date).toLocaleDateString('ko-KR')}</span>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    grid.appendChild(photoCard);
                });
                
                console.log('âœ… Masonry ê°¤ëŸ¬ë¦¬ ë Œë”ë§ ì™„ë£Œ!');
            } catch (error) {
                console.error('âŒ ê°¤ëŸ¬ë¦¬ ë Œë”ë§ ì˜¤ë¥˜:', error);
            }
        }

        // ìŠ¬ë¼ì´ë“œì‡¼ í•¨ìˆ˜ë“¤
        function openSlideshow(index) {
            try {
                if (index >= 0 && index < filteredPhotos.length) {
                    currentSlideIndex = index;
                    updateSlideshow();
                    const modal = document.getElementById('slideshow-modal');
                    if (modal) {
                        modal.style.display = 'flex';
                        document.body.style.overflow = 'hidden';
                    }
                }
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë“œì‡¼ ì—´ê¸° ì˜¤ë¥˜:', error);
            }
        }

        function closeSlideshow() {
            try {
                const modal = document.getElementById('slideshow-modal');
                if (modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
                if (autoPlayInterval) {
                    clearInterval(autoPlayInterval);
                    autoPlayInterval = null;
                    isAutoPlay = false;
                    updateAutoPlayButton();
                }
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë“œì‡¼ ë‹«ê¸° ì˜¤ë¥˜:', error);
            }
        }

        function nextSlide() {
            if (filteredPhotos.length === 0) return;
            currentSlideIndex = (currentSlideIndex + 1) % filteredPhotos.length;
            updateSlideshow();
        }

        function prevSlide() {
            if (filteredPhotos.length === 0) return;
            currentSlideIndex = (currentSlideIndex - 1 + filteredPhotos.length) % filteredPhotos.length;
            updateSlideshow();
        }

        function updateSlideshow() {
            try {
                const photo = filteredPhotos[currentSlideIndex];
                if (!photo) return;
                
                const updateElement = (id, value) => {
                    const element = document.getElementById(id);
                    if (element) element.textContent = value;
                };
                
                const image = document.getElementById('slideshow-image');
                if (image) {
                    image.src = photo.url;
                    
                    // ì´ë¯¸ì§€ ë¡œë“œ í›„ ë¹„ìœ¨ í™•ì¸
                    image.onload = function() {
                        const aspectRatio = this.naturalWidth / this.naturalHeight;
                        if (aspectRatio < 0.8) {
                            // ì„¸ë¡œ ì‚¬ì§„ì¸ ê²½ìš°
                            this.classList.add('portrait-image');
                        } else {
                            this.classList.remove('portrait-image');
                        }
                    };
                }
                
                updateElement('slideshow-title', photo.title);
                updateElement('slideshow-location', photo.location);
                updateElement('slideshow-date', new Date(photo.date).toLocaleDateString('ko-KR'));
                updateElement('slide-counter', `${currentSlideIndex + 1} / ${filteredPhotos.length}`);
            } catch (error) {
                console.error('âŒ ìŠ¬ë¼ì´ë“œì‡¼ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
            }
        }

        function toggleAutoPlay() {
            try {
                isAutoPlay = !isAutoPlay;
                if (isAutoPlay) {
                    autoPlayInterval = setInterval(nextSlide, 3000);
                } else {
                    clearInterval(autoPlayInterval);
                    autoPlayInterval = null;
                }
                updateAutoPlayButton();
            } catch (error) {
                console.error('âŒ ìë™ ì¬ìƒ í† ê¸€ ì˜¤ë¥˜:', error);
            }
        }

        function updateAutoPlayButton() {
            try {
                const playIcon = document.getElementById('play-icon');
                const pauseIcon = document.getElementById('pause-icon');
                const button = document.getElementById('autoplay-button');
                
                if (isAutoPlay) {
                    if (playIcon) playIcon.style.display = 'none';
                    if (pauseIcon) pauseIcon.style.display = 'block';
                    if (button) button.className = 'p-2 rounded-full transition-colors bg-white text-black';
                } else {
                    if (playIcon) playIcon.style.display = 'block';
                    if (pauseIcon) pauseIcon.style.display = 'none';
                    if (button) button.className = 'p-2 rounded-full transition-colors text-white hover:bg-white/20';
                }
            } catch (error) {
                console.error('âŒ ìë™ ì¬ìƒ ë²„íŠ¼ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
            }
        }

        // ë„ì‹œ ëª¨ë‹¬ í•¨ìˆ˜ë“¤
        function showCitiesModal() {
            try {
                const modal = document.getElementById('cities-modal');
                if (modal) {
                    modal.style.display = 'flex';
                    document.body.style.overflow = 'hidden';
                }
            } catch (error) {
                console.error('âŒ ë„ì‹œ ëª¨ë‹¬ ì—´ê¸° ì˜¤ë¥˜:', error);
            }
        }

        function hideCitiesModal() {
            try {
                const modal = document.getElementById('cities-modal');
                if (modal) {
                    modal.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }
            } catch (error) {
                console.error('âŒ ë„ì‹œ ëª¨ë‹¬ ë‹«ê¸° ì˜¤ë¥˜:', error);
            }
        }

        // í‚¤ë³´ë“œ ì´ë²¤íŠ¸
        document.addEventListener('keydown', function(e) {
            try {
                const modal = document.getElementById('slideshow-modal');
                if (!modal || modal.style.display !== 'flex') return;
                
                switch(e.key) {
                    case 'ArrowLeft':
                        prevSlide();
                        break;
                    case 'ArrowRight':
                        nextSlide();
                        break;
                    case 'Escape':
                        closeSlideshow();
                        break;
                    case ' ':
                        e.preventDefault();
                        toggleAutoPlay();
                        break;
                }
            } catch (error) {
                console.error('âŒ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ì˜¤ë¥˜:', error);
            }
        });

        // ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
        document.getElementById('cities-modal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                hideCitiesModal();
            }
        });

        document.getElementById('slideshow-modal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeSlideshow();
            }
        });
    </script>
</body>
</html>
